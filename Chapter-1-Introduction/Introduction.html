<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Introduction to R</title>
    <meta charset="utf-8" />
    <meta name="author" content="AECN 396/896-002" />
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Introduction to R
### AECN 396/896-002

---


# Table of contents

1. [Introduction to R and RStudio](#intro)
2. [Object types](#objects)
3. [Functions and packages](#functions)
4. [Some fundamentals on vector, matrix, list, and data.frame](#objects_basics)

---










class: inverse, center, middle
name: intro

# Introduction to R and RStudio

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---

# Learning Objectives

+ become familiar with programming 
+ become capable of using R software to conduct research independently
  + manipulate data
  + visualize data 
  + report results 
  + spatial data management

---

# R and RStudio

## R 
+ a very popular statistical programming language used in academia and industry  
+ started out as software to do statistics, designed by a number of statisticians
+ is open-source and free
+ has been and is evolving rapidly by the contributions of its users 
 + state-of-the-art statistical methods (e.g., machine learning algorithms) written by the developers of the methods
 + geographic information system (GIS)
 + big data handling and analysis

## RStudio:

+ R has a terrible graphic user interface 
+ by far the most popular graphic user interface of R

---


# Install R and RStudio 

+ Install [R](https://www.r-project.org/)
+ Install [RStudio](https://www.rstudio.com/)

---

# Introduction to RStudio

## Four panes

+ R script (upper left)
+ Console (lower left)
+ Environment (upper right)
+ Files, plots, packages, and help (lower right)

## Small tips

+ Appearance
+ Pane Layout 

---

# Getting started with R and RStudio 

+ do basic mathematical operations 
+ define objects in R 
+ learn different object types
+ use RStudio at the same time 

---

&lt;!-- 
#/*=================================================*/
#' # new slide stars here 
#/*=================================================*/
--&gt;

#  Basic element types (atomic mode)

+ integer: e.g., 1, 3,  
+ numeric (double): e.g., 1, 1.3
+ complex: 
+ logical (boolean): true or false 
+ character: combination of letters (numerical operations not allowed)

---

&lt;!-- 
#/*=================================================*/
#' # new slide stars here 
#/*=================================================*/
--&gt;

# Basic arithmetic: R as a calculator


```r
#--- addition ---#
2 + 3.3   
```

```
## [1] 5.3
```

```r
#--- subtraction ---#
6 - 2.7   
```

```
## [1] 3.3
```

```r
#--- multiplications ---#
6 * 2   
```

```
## [1] 12
```

```r
#--- exponentiation ---#
2 ^ 2.4  
```

```
## [1] 5.278032
```

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

&lt;span style="color:red"&gt; RStudio tip: &lt;/span&gt;
+ `command` + `enter` (Mac) runs the code (`Control` + `enter` (Windows))


---

&lt;!-- 
#/*=================================================*/
#' # new slide stars here 
#/*=================================================*/
--&gt;

# Basic arithmetic: R as a calculator (cont.)


```r
#--- division ---#
6 / 2   
```

```
## [1] 3
```

```r
#--- remainder ---#
6 %% 4   
```

```
## [1] 2
```

```r
#--- quotient ---#
6 %/% 4   
```

```
## [1] 1
```

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

&lt;span style="color:red"&gt; RStudio tip: &lt;/span&gt;: 
+ `command` (`Control`) + 1 for Mac (Windows) to move the cursor to the source pane
+ `command` (`Control`) + 2 for Mac (Windows) to move the cursor to the source pane

---

&lt;!-- 
#/*=================================================*/
#' # new slide stars here 
#/*=================================================*/
--&gt;

# logical values and operators


```r
#--- true or false ---#
5 == 5
```

```
## [1] TRUE
```

```r
5 == 4
```

```
## [1] FALSE
```

```r
5 &gt; 4
```

```
## [1] TRUE
```

```r
5 &lt; 4  
```

```
## [1] FALSE
```

---


&lt;!-- 
#/*=================================================*/
#' # new slide stars here 
#/*=================================================*/
--&gt;

# Character

Contents enclosed by double (or single) quotation marks will be recognized as characters.


```r
#--- character ---#
"R"
```

```
## [1] "R"
```

```r
#--- character ---#
" rocks"
```

```
## [1] " rocks"
```

You cannot do addition using characters


```r
"R" + "rocks"
```

```
## Error in "R" + "rocks": non-numeric argument to binary operator
```

We will learn string manipulations later using the `stringr` package.

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

&lt;span style="color:red"&gt; RStudio tip: &lt;/span&gt;: 
+ `Option` + `-` (`Alt` + `-`) for Mac (Windows) to inset the assignment operator (`&lt;-`)

---


&lt;!-- 
#/*=================================================*/
#' # new slide stars here 
#/*=================================================*/
--&gt;


# Assignment 

You can assign contents (numeric numbers, character, boolean, etc) to an object on R and reuse it later using either `&lt;-` or `=`.


```r
object_name &lt;- contents   
```

## Example


```r
#--- numeric ---#
a &lt;- 1   
```

Notice that these objects are now in the list of objects on the environment tab of RStudio.

## Object evaluation 

Once objects are created, you can evaluate them on the console to see what is inside:


```r
a  
```

```
## [1] 1
```

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

&lt;span style="color:red"&gt; RStudio tip: &lt;/span&gt;: 
+ `Command` + `up` (`Control` + `up`) for Mac (Windows) to look at the history of codes you have run (or go to the "History tab" on the right upper pane)

---

# Assignment (cont.)


## Other examples


```r
#--- character ---#
b &lt;- "R rocks"

b
```

```
## [1] "R rocks"
```

```r
#--- logical ---#
d &lt;- 1 == 2

d
```

```
## [1] FALSE
```

---

# Assignment (cont.)

You can also use `=` for assignment 


```r
#--- character ---#
a = "R rocks"

a
```

```
## [1] "R rocks"
```

It does not really matter which of `&lt;-` or  `=` to use. You should pick whichever makes sense for you. But, it is a good idea to be consistent.

---

# Assignment (cont.)

Several things to remember about assignment: 

+ If you assign contents to an object of the same name, the object that had the same name will be overwritten 


```r
a &lt;- 3
a &lt;- 1  
a
```

```
## [1] 1
```

+ Object names cannot start with a numeric number. Try the following:


```r
1a &lt;- 2  
```

+ You cannot use a reserved word as the name of an object (complete list found [here](https://stat.ethz.ch/R-manual/R-devel/library/base/html/Reserved.html))


```r
#--- try this ---#
if &lt;- 3  
```

---

class: inverse, center, middle
name: objects

# Objects

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---

# Objects

R is an object-oriented programming (OOP), which basically means: 

"Everything is an object and everything has a name."

## Different object types (classes)

+ vector
+ matrix
+ data.frame
+ list
+ function

---

# Vector (one-dimensional array)

A vectors is a class of object that consists of elements of the same kind (it can have only one element). You use `c()` to create a vector.

## Example


```r
#--- create a vector of numbers ---#
a &lt;- c(4, 3, 5, 9, 1)   

a
```

```
## [1] 4 3 5 9 1
```

```r
#--- create a vector of characters ---#
b &lt;- c("python", "is", "better", "than", "R")   

b
```

```
## [1] "python" "is"     "better" "than"   "R"
```

---

# Vector (cont.)

What if we mix elements of different mode  

## Example


```r
#--- create a vector of numbers ---#
a_vector &lt;- c(4, 3, "5", 9, 1)   

#--- see its content ---#
a_vector
```

```
## [1] "4" "3" "5" "9" "1"
```

All the numeric values are converted to characters.


---

# List

A `list` is a class of object that consists of elements of mixed types:

## Example


```r
#--- create a vector of numbers ---#
a_list &lt;- list(4, 3, "5", 9, 1)   

#--- see its content ---#
a_list
```

```
## [[1]]
## [1] 4
## 
## [[2]]
## [1] 3
## 
## [[3]]
## [1] "5"
## 
## [[4]]
## [1] 9
## 
## [[5]]
## [1] 1
```

A `list` is very flexible. It can hold basically any type of R objects as its elements. 

---

# Matrix (two-dimensional array)

A matrix is a class of object that consists of elements of the same kind (it can have only one element) stored in a two-dimensional array. 

## Example


```r
#--- create a matrix of numbers ---#
M_num &lt;- matrix(c(2, 4, 3, 1, 5, 7), nrow = 3)

M_num
```

```
##      [,1] [,2]
## [1,]    2    1
## [2,]    4    5
## [3,]    3    7
```

---

# Matrix (two-dimensional array)

A matrix is a class of object that consists of elements of the same kind (it can have only one element) stored in a two-dimensional array. 

## Example


```r
#--- create a matrix of characters ---#
M_char &lt;- matrix(c("a", "b" , "c", "d", "e", "f"), nrow = 3)

M_char
```

```
##      [,1] [,2]
## [1,] "a"  "d" 
## [2,] "b"  "e" 
## [3,] "c"  "f"
```

---

# data.frame

`data.frame` is like a matrix (or a list of columns)


```r
#--- create a data.frame ---#
yield_data &lt;- data.frame(
  nitrogen = c(200, 180, 300),
  yield = c(240, 220, 230),
  state = c("Kansas", "Nebraska", "Iowas")
)

yield_data
```

```
##   nitrogen yield    state
## 1      200   240   Kansas
## 2      180   220 Nebraska
## 3      300   230    Iowas
```

There are different kinds of objects that are like "data.frame"

+ tibble 
+ data.table

---

# Objects (cont.)

It is critical to recognize the class of the objects:

+ the same function does different things depending on the class of the object to which the function is applied  
+ some functions work on some object classes, but not on others 

Many of the errors you will encounter while working on R has something to do with applying functions that are not applicable to the objects you are working on!

&lt;!-- How is `class` different from atomic mode?

Roughly put, atomic mode refers to the type of the most basic elements that will make up more complex objects like a data.frame or a matrix. 

 --&gt;

---

# Objects (cont.) 

Use `class`, `typeof`, and `str` commands to know more about what kind of objects you are dealing with:


```r
#--- check the class ---#
class(yield_data)  
```

```
## [1] "data.frame"
```

```r
#--- check the "internal" type ---#
typeof(yield_data)  
```

```
## [1] "list"
```

```r
#--- look into the structure of an object ---#
str(yield_data)  
```

```
## 'data.frame':	3 obs. of  3 variables:
##  $ nitrogen: num  200 180 300
##  $ yield   : num  240 220 230
##  $ state   : chr  "Kansas" "Nebraska" "Iowas"
```

---

# Objects (cont.) 

You could also use `View()` function for visual inspection:


```r
View(yield_data)  
```

&lt;!-- 
#/*=================================================*/
#' # Functions
#/*=================================================*/
--&gt;

---

class: inverse, center, middle
name: function

# Function

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---

# Function 

## What is a function?
A function takes R objects (vector, data.frame, etc), processes them, and returns R objects 

## Example

`min()` takes a vector of values as an argument and returns the minimum of all the values in the vector


```r
min(c(1, 2))  
```

```
## [1] 1
```

---

# Some other useful functions


+ create a sequence of values 


```r
v1 &lt;- seq(0, 100, by = 5)
v2 &lt;- seq(0, 100, length = 21)
```

+ repeat values 


```r
v3 &lt;- rep(10,5)
```

+ sum values 


```r
v1_sum &lt;- sum(v1)
```

+ find the length of an vector


```r
v1_len &lt;- length(v1)
```

---

# Exercises

+ generate a vector (call it `\(x\)`) that starts from 1 and increase by 2 until 99 

+ calculate the sample mean of `\(x\)` 

`\(\frac{1}{n}\sum_{i=1}^n x_i\)`

+ calculate the sample variance  of `\(x\)`

`\(\frac{1}{n}\sum_{i=1}^n (x_i-\bar{x})^2\)`, where `\(\bar{x}\)` is the sample mean

---

# Function (cont.)

+ Functions (both base and user-written) are what makes R compelling to use as major statistical and programming software!
     
+ Indeed, this course is pretty much all about learning useful functions that make your life easier

+ We will learn lots of functions that are made available through user-written packages
 

---

# Packages

## What are packages?

A drawer in your work space (R environment) that has specialized tools (functions) to complete tasks 

## Example packages
+ dplyr (data wrangling)
+ data.table (data wrangling)
+ ggplot2 (data visualization)
+ sf (spatial vector data handling)
+ raster (spatial raster data handling)
+ stars (spatiotemporal data handling)

---

# Packages

+ Before you use tools (functions) in the drawer (package), you need to buy (install) it first. You can install a package using the following syntax:


```r
install.packages('package name') 
```

+ For example,


```r
install.packages(ggplot2) 
```

+ You need to bring the drawer (package) to your working space (R environment) by using the `library()` function:


```r
library(ggplot2) 
```

+ Now, you can start using specialized tools (functions) in the drawer (package)!!

---

# Working with R (or any computer programs)

+ You are the architect who has the blueprint of the final product, but does not have an ability to build specific pieces by yourself 

+ You work with one worker (R) who can build specific pieces perfectly without any error &lt;span style="color:red"&gt; if given right tools and instructions &lt;/span&gt;

+ This worker is weird. If you do not give right tools or your instruction is wrong, he/she will speak up and tell you there has been an error. He/she will not try to figure out how things could have been done differently by himself/herself.

+ Your job is to provide the right tools and instructions to the worker (R), and correct your instructions when you found out you made a mistake (debugging)

&lt;!-- 
#/*=================================================*/
#' # Vector and matrix
#/*=================================================*/
--&gt;

---

class: inverse, center, middle
name: objects_basics

# A bit more on vector, matrix, list, and data.frame

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

---


# Vector arithmetic

Let's define two vectors to work with

```r
a &lt;- c(1,2,3,4,5)

b &lt;- a
```

---

# Vector arithmetic


```r
#--- addition ---#  
a + b
```

```
## [1]  2  4  6  8 10
```

```r
#--- subtraction ---#  
a - b
```

```
## [1] 0 0 0 0 0
```

```r
#--- multiplication ---#  
a * b
```

```
## [1]  1  4  9 16 25
```

```r
#--- division ---#  
a / b
```

```
## [1] 1 1 1 1 1
```

---

# Accessing elements of a vector

To access element(s) of a vector, you use `[]` like below:


```r
#--- second element of vector a ---#
a[2]
```

```
## [1] 2
```

```r
#--- third element of vector a ---#
b[3]  
```

```
## [1] 3
```

---

# Accessing elements of a vector

You can access multiple elements of a vector 


```r
#--- first and second elements of vector a ---#
a[c(1,2)]
```

```
## [1] 1 2
```

```r
#--- first and fifth elements of vector b ---#
b[c(1,5)] 
```

```
## [1] 1 5
```

---

# Matrix


```r
#--- define matrix ---#
# A &lt;- matrix(a value, # of rows, # of cols)
A &lt;- matrix(2,3,2)
A
```

```
##      [,1] [,2]
## [1,]    2    2
## [2,]    2    2
## [3,]    2    2
```

```r
# B &lt;- matrix(vector,# rows)
B &lt;- matrix(c(2,4,3,1,5,7),nrow=3)
B  
```

```
##      [,1] [,2]
## [1,]    2    1
## [2,]    4    5
## [3,]    3    7
```


---

# Matrix arithmetic


```r
#--- matrix addition by element ---#
A+B 
```

```
##      [,1] [,2]
## [1,]    4    3
## [2,]    6    7
## [3,]    5    9
```

```r
#--- matrix multiplication by element ---#
A*B   
```

```
##      [,1] [,2]
## [1,]    4    2
## [2,]    8   10
## [3,]    6   14
```

---

# Matrix operations


```r
#--- transpose ---#
t(B)
```

```
##      [,1] [,2] [,3]
## [1,]    2    4    3
## [2,]    1    5    7
```

```r
#--- matrix multiplication ---#
A %*% t(B)   
```

```
##      [,1] [,2] [,3]
## [1,]    6   18   20
## [2,]    6   18   20
## [3,]    6   18   20
```

---

# Accessing elements of a matrix

To access element(s) of a matrix, you use `[]` just like we did for a vector. But, now you have two arguments inside `[]`. 


```r
matrix[indices for rows, indices for columns]  
```

## Examples


```r
#--- 1st row, 2nd column ---#
A[1, 2]
```

```
## [1] 2
```

```r
#--- 1st and 3rd row, 2nd column ---#
A[c(1, 3), 2]
```

```
## [1] 2 2
```

```r
#--- all the values in the first row ---#
A[1, ]
```

```
## [1] 2 2
```

---

# List

As I mentioned earlier, a `list` can hold mixed objects of any type in a single list.


```r
a_list &lt;- list(
  a = matrix(2,3,2), 
  b = c("R", "rocks"), 
  c = yield_data
)  

a_list
```

```
## $a
##      [,1] [,2]
## [1,]    2    2
## [2,]    2    2
## [3,]    2    2
## 
## $b
## [1] "R"     "rocks"
## 
## $c
##   nitrogen yield    state
## 1      200   240   Kansas
## 2      180   220 Nebraska
## 3      300   230    Iowas
```

Note that each element has a name.

---

# Accessing elements of a list

To access element(s) of a matrix, you can use `[[]]` or `$` operator for accessing a single element and use `[]` for multiple elements.

## Examples


```r
#--- 2nd element ---#
a_list[[2]]
```

```
## [1] "R"     "rocks"
```

---

# Accessing elements of a list

To access element(s) of a matrix, you can use `[[]]` or `$` operator for accessing a single element and use `[]` for multiple elements.

## Examples


```r
#--- 1st and 3rd elements ---#
a_list[c(1, 3)]
```

```
## $a
##      [,1] [,2]
## [1,]    2    2
## [2,]    2    2
## [3,]    2    2
## 
## $c
##   nitrogen yield    state
## 1      200   240   Kansas
## 2      180   220 Nebraska
## 3      300   230    Iowas
```

---

# Accessing elements of a list

To access element(s) of a matrix, you can use `[[]]` or `$` operator for accessing a single element and use `[]` for multiple elements.

## Examples


```r
#--- an element called b (2nd element) ---#
a_list$b
```

```
## [1] "R"     "rocks"
```

---

# data.frame

`data.frame` (and its relatives) 
+ is the most common object type we use. 
+ is a special kind of `list` of vectors that are of the same length that makes a `matrix`-like structure
+ shares properties of both the matrix and the list



```r
yield_data
```

```
##   nitrogen yield    state
## 1      200   240   Kansas
## 2      180   220 Nebraska
## 3      300   230    Iowas
```

---

# Accessing parts of a `data.frame`

Accessing parts of a `data.frame` works like accessing elements of a matrix or list.

## Examples


```r
#--- list-like: access the state column (element) ---#
yield_data$state
```

```
## [1] "Kansas"   "Nebraska" "Iowas"
```

```r
#--- matrix-like: 1st row, 2nd column (yield) ---#
yield_data[1, 2]
```

```
## [1] 240
```

--

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;

&lt;span style="color:red"&gt; We will spend lots of time on how to do data wrangling on `data.frame`s using the `tidyverse` package! &lt;/span&gt; 

---
class: inverse, center, middle
name: rgis

# Next class: Rmarkdown

&lt;html&gt;&lt;div style='float:left'&gt;&lt;/div&gt;&lt;hr color='#EB811B' size=1px width=796px&gt;&lt;/html&gt;
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
